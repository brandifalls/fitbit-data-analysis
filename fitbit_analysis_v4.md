fitbit\_analysis\_v3
================
Brandi Falls
6/29/2021

# Overview of Project

Bellabeat is a high-tech manufacturer of health-focused products for
women. Bellabeat is a successful small company, but they have the
potential to become a larger player in the global smart device.
Analyzing smart device fitness data could help unlock new growth
opportunities for the company market.

------------------------------------------------------------------------

# Step 1 - Ask

## Business Task:

The business task is to analyze *Fitbit* smart device usage data in
order to gain insight into how consumers currently use their smart
devices and to discover underlying trends that can applied to
*Bellabeat* products. This insight could help unlock new growth
opportunities and the best marketing strategy to meet business growth
goals.

The ask entails focusing on only 1 of the below products to recommend a
marketing strategy from insights gained.

### Products

-   Bellabeat app: The Bellabeat app provides users with health data
    related to their activity, sleep, stress, menstrual cycle, and
    mindfulness habits. This data can help users better understand their
    current habits and make healthy decisions. The Bellabeat app
    connects to their line of smart wellness products.
-   Leaf: Bellabeat’s classic wellness tracker can be worn as a
    bracelet, necklace, or clip. The Leaf tracker connects to the
    Bellabeat app to track activity, sleep, and stress.
-   **Time**: This wellness watch combines the timeless look of a
    classic timepiece with smart technology to track user activity,
    sleep, and stress. The Time watch connects to the Bellabeat app to
    provide you with insights into your daily wellness.
-   Spring: This is a water bottle that tracks daily water intake using
    smart technology to ensure that you are appropriately hydrated
    throughout the day. The Spring bottle connects to the Bellabeat app
    to track your hydration levels.
-   Bellabeat membership: Bellabeat also offers a subscription-based
    membership program for users.Membership gives users 24/7 access to
    fully personalized guidance on nutrition, activity, sleep, health
    and beauty, and mindfulness based on their lifestyle and goals.

We will chose to focus on the **Time** product for marketing.

## Stakeholders

-   Urška Sršen: Bellabeat’s cofounder and Chief Creative Officer
-   Sando Mur: Mathematician and Bellabeat’s cofounder; key member of
    the Bellabeat Executive Team
-   Bellabeat marketing analytics team: A team of data analysts
    responsible for collecting, analyzing, and reporting data that helps
    guide Bellabeat’s marketing strategy.

## About the Company

-   Founded in 2013
-   By 2016, global offices and multiple products
-   women-focused to empower women with knowledge about their own health
    and habits.
-   Collecting data on activity, sleep, stress, and reproductive health
    has allowed Bellabeat to empower women with knowledge about their
    own health and habits.

## Current Marketing Strategy

-   E-commerce on their website - <https://bellabeat.com/>
-   Online retailers
-   Traditional advertising media +radio
    -   out-of-home billboards
    -   print
    -   television
-   Digital marketing
    -   Google Search
    -   Facebook, Instagram, Twitter
    -   Youtube video ads
    -   Google Display Network ads

------------------------------------------------------------------------

# Step 2 - Prepare

## Description of the Dataset

We have used a public dataset that explores smart device users’ daily
habits.

Name: FitBit Fitness Tracker Data (CC0 Public Domain) Link:
<https://www.kaggle.com/arashnic/fitbit>

"This Kaggle data set contains personal fitness tracker from thirty
fitbit users. Thirty eligible Fitbit users consented to the submission
of personal tracker data, including minute-level output for physical
activity, heart rate, and sleep monitoring. It includes information
about daily activity, steps, and heart rate that can be used to explore
users’ habits.

These datasets were generated by respondents to a distributed survey via
Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible
Fitbit users consented to the submission of personal tracker data,
including minute-level output for physical activity, heart rate, and
sleep monitoring. "

## Limitations

-   There are limited users. The sample size may not be representative
    of the population
-   There are few categorical variables to categorize the data for
    analysis
-   There is no data on male and female population. We will not be able
    to make female-specific observations for a female target audience.
-   Each dataset has 30 days of data from 4/12/2016 to 5/12/2016, but
    the dataset description indicates 03/12/2016 to 05/12/2016. We will
    have less data to work with which may impact recommendations.
-   The first day of data collected is Tuesday 4/12/2016, and the last
    day of data collected is on Thursday 5/12/2016. There is an
    unbalanced spread of days, so any weekly analysis could be
    misleading.

## ROCCC Validation of Dataset

-   Reliable - we will assume this data is accurate and reliable.
-   Original - The data is original as it is 1st party data and directly
    gathered from users
-   Comprehensive - The data is not comprehensive as it does not have
    all details needed for a full detailed analysis to meet the business
    goal
-   Current - The data is not current as the data is from 2016.
-   Cited - The data is cited.

## Data Summary

Overall, this data may not be appropriate for conducting a full detailed
analysis to meet the goal of the business. However, we will move forward
with the data to uncover any insights.

Ideally, we would be having a sample size that is more representative of
the whole population, at least 6 months of data from a more current
year, and gendered data so that we can gain insight into the specific
female habits.

## Data Sensitivity

This is public data. No data was identified as sensitive and therefore
we will not need to have Data anonymization / De-identification and no
encryption to store data

## Setup Environment with Packages

``` r
# install.packages("tidyverse")
# install.packages("skimr")
# install.packages("janitor")
# install.packages("dplyr")
# install.packages("readr")
# install.packages("plotly")
# install.packages("date")
# install.packages("ggplot2")
# install.packages("formattable")
#install.packages("gghighlight")
```

``` r
library(tidyverse)
```

    ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --

    ## v ggplot2 3.3.4     v purrr   0.3.4
    ## v tibble  3.1.2     v dplyr   1.0.7
    ## v tidyr   1.1.3     v stringr 1.4.0
    ## v readr   1.4.0     v forcats 0.5.1

    ## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readr)
library(skimr)
library(janitor)
```

    ## 
    ## Attaching package: 'janitor'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     chisq.test, fisher.test

``` r
library(dplyr)
library(plotly)
```

    ## 
    ## Attaching package: 'plotly'

    ## The following object is masked from 'package:ggplot2':
    ## 
    ##     last_plot

    ## The following object is masked from 'package:stats':
    ## 
    ##     filter

    ## The following object is masked from 'package:graphics':
    ## 
    ##     layout

``` r
library(date)
library(lubridate)
```

    ## 
    ## Attaching package: 'lubridate'

    ## The following objects are masked from 'package:base':
    ## 
    ##     date, intersect, setdiff, union

``` r
library(ggplot2)
library("formattable")
```

    ## 
    ## Attaching package: 'formattable'

    ## The following object is masked from 'package:plotly':
    ## 
    ##     style

``` r
library(gghighlight)
```

## Import Data

-   The below datasets were determined to be most useful for the purpose
    of this analysis. All other available datasets will not be in scope.
    -   dailyActivity (daily physical activity)
    -   sleepDay (daily sleep activity)
    -   weightLogInfo (daily weight log activity)

``` r
dailyActivity <- read_csv("C:/Users/Brandi/Documents/Bellabeat Case Study/fitbit/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
```

    ## 
    ## -- Column specification --------------------------------------------------------
    ## cols(
    ##   Id = col_double(),
    ##   ActivityDate = col_character(),
    ##   TotalSteps = col_double(),
    ##   TotalDistance = col_double(),
    ##   TrackerDistance = col_double(),
    ##   LoggedActivitiesDistance = col_double(),
    ##   VeryActiveDistance = col_double(),
    ##   ModeratelyActiveDistance = col_double(),
    ##   LightActiveDistance = col_double(),
    ##   SedentaryActiveDistance = col_double(),
    ##   VeryActiveMinutes = col_double(),
    ##   FairlyActiveMinutes = col_double(),
    ##   LightlyActiveMinutes = col_double(),
    ##   SedentaryMinutes = col_double(),
    ##   Calories = col_double()
    ## )

``` r
sleepDay <- read_csv("C:/Users/Brandi/Documents/Bellabeat Case Study/fitbit/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
```

    ## 
    ## -- Column specification --------------------------------------------------------
    ## cols(
    ##   Id = col_double(),
    ##   SleepDay = col_character(),
    ##   TotalSleepRecords = col_double(),
    ##   TotalMinutesAsleep = col_double(),
    ##   TotalTimeInBed = col_double()
    ## )

``` r
weightLogInfo <- read_csv("C:/Users/Brandi/Documents/Bellabeat Case Study/fitbit/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")
```

    ## 
    ## -- Column specification --------------------------------------------------------
    ## cols(
    ##   Id = col_double(),
    ##   Date = col_character(),
    ##   WeightKg = col_double(),
    ##   WeightPounds = col_double(),
    ##   Fat = col_double(),
    ##   BMI = col_double(),
    ##   IsManualReport = col_logical(),
    ##   LogId = col_double()
    ## )

## First Look

``` r
glimpse(dailyActivity)
```

    ## Rows: 940
    ## Columns: 15
    ## $ Id                       <dbl> 1503960366, 1503960366, 1503960366, 150396036~
    ## $ ActivityDate             <chr> "4/12/2016", "4/13/2016", "4/14/2016", "4/15/~
    ## $ TotalSteps               <dbl> 13162, 10735, 10460, 9762, 12669, 9705, 13019~
    ## $ TotalDistance            <dbl> 8.50, 6.97, 6.74, 6.28, 8.16, 6.48, 8.59, 9.8~
    ## $ TrackerDistance          <dbl> 8.50, 6.97, 6.74, 6.28, 8.16, 6.48, 8.59, 9.8~
    ## $ LoggedActivitiesDistance <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
    ## $ VeryActiveDistance       <dbl> 1.88, 1.57, 2.44, 2.14, 2.71, 3.19, 3.25, 3.5~
    ## $ ModeratelyActiveDistance <dbl> 0.55, 0.69, 0.40, 1.26, 0.41, 0.78, 0.64, 1.3~
    ## $ LightActiveDistance      <dbl> 6.06, 4.71, 3.91, 2.83, 5.04, 2.51, 4.71, 5.0~
    ## $ SedentaryActiveDistance  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ~
    ## $ VeryActiveMinutes        <dbl> 25, 21, 30, 29, 36, 38, 42, 50, 28, 19, 66, 4~
    ## $ FairlyActiveMinutes      <dbl> 13, 19, 11, 34, 10, 20, 16, 31, 12, 8, 27, 21~
    ## $ LightlyActiveMinutes     <dbl> 328, 217, 181, 209, 221, 164, 233, 264, 205, ~
    ## $ SedentaryMinutes         <dbl> 728, 776, 1218, 726, 773, 539, 1149, 775, 818~
    ## $ Calories                 <dbl> 1985, 1797, 1776, 1745, 1863, 1728, 1921, 203~

``` r
glimpse(sleepDay)
```

    ## Rows: 413
    ## Columns: 5
    ## $ Id                 <dbl> 1503960366, 1503960366, 1503960366, 1503960366, 150~
    ## $ SleepDay           <chr> "4/12/2016 12:00:00 AM", "4/13/2016 12:00:00 AM", "~
    ## $ TotalSleepRecords  <dbl> 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~
    ## $ TotalMinutesAsleep <dbl> 327, 384, 412, 340, 700, 304, 360, 325, 361, 430, 2~
    ## $ TotalTimeInBed     <dbl> 346, 407, 442, 367, 712, 320, 377, 364, 384, 449, 3~

``` r
glimpse(weightLogInfo)
```

    ## Rows: 67
    ## Columns: 8
    ## $ Id             <dbl> 1503960366, 1503960366, 1927972279, 2873212765, 2873212~
    ## $ Date           <chr> "5/2/2016 11:59:59 PM", "5/3/2016 11:59:59 PM", "4/13/2~
    ## $ WeightKg       <dbl> 52.6, 52.6, 133.5, 56.7, 57.3, 72.4, 72.3, 69.7, 70.3, ~
    ## $ WeightPounds   <dbl> 115.9631, 115.9631, 294.3171, 125.0021, 126.3249, 159.6~
    ## $ Fat            <dbl> 22, NA, NA, NA, NA, 25, NA, NA, NA, NA, NA, NA, NA, NA,~
    ## $ BMI            <dbl> 22.65, 22.65, 47.54, 21.45, 21.69, 27.45, 27.38, 27.25,~
    ## $ IsManualReport <lgl> TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, ~
    ## $ LogId          <dbl> 1.462234e+12, 1.462320e+12, 1.460510e+12, 1.461283e+12,~

## Observations from First Look

-   Column names need to be cleaned
-   Common variables are ID and ActivityDate/ActivityDay.
-   Date variables are in format MM/DD/YYYY but are Character data type.
-   We will need to rename Day –&gt; Date for consistency, and convert
    to Date field.
-   LoggedActivitiesDistance has a lot of 0 values and are not
    consistent (0 vs.0.00). Assumption is that it is not required to log
    most activities, but some activities require manual entry. Users
    rely on automated tracking and will not automatically log.
-   file sleepDay should be renamed to dailySleep. SleepDay column
    should be renamed to ActivityDate and formatted to MM/DD/YYYY for
    consistency

------------------------------------------------------------------------

# Step 3 - Process

``` r
#rename dataframes for easy reference 
#clean variable names for consistency
updated_daily_activity <- clean_names(dailyActivity)
updated_daily_sleep <- clean_names(sleepDay)
updated_weight_log <- clean_names(weightLogInfo)

#check for missing data (NA/null). results should be 0.

sum(is.na(updated_daily_activity))
```

    ## [1] 0

``` r
#updated_weight_log has NA data, but we will retain it for integrity.
sum(is.na(updated_weight_log))
```

    ## [1] 65

``` r
sum(is.na(updated_daily_sleep))
```

    ## [1] 0

``` r
sum(is.null(updated_daily_activity))
```

    ## [1] 0

``` r
sum(is.null(updated_weight_log))
```

    ## [1] 0

``` r
sum(is.null(updated_daily_sleep))
```

    ## [1] 0

``` r
#check for duplicated data. results should be 0.
sum(duplicated(updated_daily_activity))
```

    ## [1] 0

``` r
sum(duplicated(updated_weight_log))
```

    ## [1] 0

``` r
sum(duplicated(updated_daily_sleep))
```

    ## [1] 3

``` r
#store and remove duplicates from updated_daily_sleep
sleep_records_dups <- updated_daily_sleep[duplicated(updated_daily_sleep), ]
updated_daily_sleep <- updated_daily_sleep[!duplicated(updated_daily_sleep), ]

#renamed Date variable for consistency and joining
updated_daily_sleep <- rename(updated_daily_sleep,activity_date=sleep_day)
updated_weight_log <- rename(updated_weight_log,activity_date=date) 
  
#convert all Date variables from Character to Date by adding casted_date variable
updated_daily_sleep$casted_date <- as.Date(mdy_hms(updated_daily_sleep$activity_date))
updated_daily_activity$casted_date <- as.Date(mdy(updated_daily_activity$activity_date))
updated_weight_log$casted_date <- as.Date(mdy_hms(updated_weight_log$activity_date))

#arrange by date
updated_daily_sleep %>% arrange(casted_date)
```

    ## # A tibble: 410 x 6
    ##          id activity_date    total_sleep_rec~ total_minutes_as~ total_time_in_b~
    ##       <dbl> <chr>                       <dbl>             <dbl>            <dbl>
    ##  1   1.50e9 4/12/2016 12:00~                1               327              346
    ##  2   1.93e9 4/12/2016 12:00~                3               750              775
    ##  3   2.03e9 4/12/2016 12:00~                1               503              546
    ##  4   3.98e9 4/12/2016 12:00~                1               274              469
    ##  5   4.02e9 4/12/2016 12:00~                1               501              541
    ##  6   4.45e9 4/12/2016 12:00~                2               429              457
    ##  7   4.70e9 4/12/2016 12:00~                1               425              439
    ##  8   5.55e9 4/12/2016 12:00~                1               441              464
    ##  9   5.58e9 4/12/2016 12:00~                1               419              438
    ## 10   6.96e9 4/12/2016 12:00~                1               366              387
    ## # ... with 400 more rows, and 1 more variable: casted_date <date>

``` r
updated_daily_activity %>% arrange(casted_date)
```

    ## # A tibble: 940 x 16
    ##            id activity_date total_steps total_distance tracker_distance
    ##         <dbl> <chr>               <dbl>          <dbl>            <dbl>
    ##  1 1503960366 4/12/2016           13162          8.5              8.5  
    ##  2 1624580081 4/12/2016            8163          5.31             5.31 
    ##  3 1644430081 4/12/2016           10694          7.77             7.77 
    ##  4 1844505072 4/12/2016            6697          4.43             4.43 
    ##  5 1927972279 4/12/2016             678          0.470            0.470
    ##  6 2022484408 4/12/2016           11875          8.34             8.34 
    ##  7 2026352035 4/12/2016            4414          2.74             2.74 
    ##  8 2320127002 4/12/2016           10725          7.49             7.49 
    ##  9 2347167796 4/12/2016           10113          6.83             6.83 
    ## 10 2873212765 4/12/2016            8796          5.91             5.91 
    ## # ... with 930 more rows, and 11 more variables:
    ## #   logged_activities_distance <dbl>, very_active_distance <dbl>,
    ## #   moderately_active_distance <dbl>, light_active_distance <dbl>,
    ## #   sedentary_active_distance <dbl>, very_active_minutes <dbl>,
    ## #   fairly_active_minutes <dbl>, lightly_active_minutes <dbl>,
    ## #   sedentary_minutes <dbl>, calories <dbl>, casted_date <date>

``` r
updated_weight_log %>% arrange(casted_date)
```

    ## # A tibble: 67 x 9
    ##          id activity_date   weight_kg weight_pounds   fat   bmi is_manual_report
    ##       <dbl> <chr>               <dbl>         <dbl> <dbl> <dbl> <lgl>           
    ##  1   6.96e9 4/12/2016 11:5~      62.5          138.    NA  24.4 TRUE            
    ##  2   8.88e9 4/12/2016 6:47~      85.8          189.    NA  25.7 FALSE           
    ##  3   1.93e9 4/13/2016 1:08~     134.           294.    NA  47.5 FALSE           
    ##  4   6.96e9 4/13/2016 11:5~      62.1          137.    NA  24.2 TRUE            
    ##  5   8.88e9 4/13/2016 6:55~      84.9          187.    NA  25.4 FALSE           
    ##  6   6.96e9 4/14/2016 11:5~      61.7          136.    NA  24.1 TRUE            
    ##  7   8.88e9 4/14/2016 6:48~      84.5          186.    NA  25.3 FALSE           
    ##  8   6.96e9 4/15/2016 11:5~      61.5          136.    NA  24   TRUE            
    ##  9   6.96e9 4/16/2016 11:5~      62            137.    NA  24.2 TRUE            
    ## 10   8.88e9 4/16/2016 1:39~      85.5          188.    NA  25.6 FALSE           
    ## # ... with 57 more rows, and 2 more variables: log_id <dbl>, casted_date <date>

``` r
#convert id from num to char
updated_daily_activity$id <- as.character(updated_daily_activity$id)
updated_daily_sleep$id <- as.character(updated_daily_sleep$id)
updated_weight_log$id <- as.character(updated_weight_log$id)

#adding Week Day column for categorical data
updated_daily_sleep$day <- weekdays(as.Date(updated_daily_sleep$casted_date)) 
updated_daily_activity$day <- weekdays(as.Date(updated_daily_activity$casted_date))
updated_weight_log$day <- weekdays(as.Date(updated_weight_log$casted_date))

#adding report type column for categorical data
updated_weight_log$report_type <- ifelse(updated_weight_log$is_manual_report == TRUE, "Manual", "Automated")


#dailyCalories, dailyIntensities, and dailySteps provide no additional value as all data is already merged in DailyActivty, as observed by the set difference analysis 

#Comparison of dataframes
dailyCalories <- clean_names(read_csv("C:/Users/Brandi/Documents/Bellabeat Case Study/fitbit/Fitabase Data 4.12.16-5.12.16/dailyCalories_merged.csv"))
```

    ## 
    ## -- Column specification --------------------------------------------------------
    ## cols(
    ##   Id = col_double(),
    ##   ActivityDay = col_character(),
    ##   Calories = col_double()
    ## )

``` r
dailyIntensities <- clean_names(read_csv("C:/Users/Brandi/Documents/Bellabeat Case Study/fitbit/Fitabase Data 4.12.16-5.12.16/dailyIntensities_merged.csv"))
```

    ## 
    ## -- Column specification --------------------------------------------------------
    ## cols(
    ##   Id = col_double(),
    ##   ActivityDay = col_character(),
    ##   SedentaryMinutes = col_double(),
    ##   LightlyActiveMinutes = col_double(),
    ##   FairlyActiveMinutes = col_double(),
    ##   VeryActiveMinutes = col_double(),
    ##   SedentaryActiveDistance = col_double(),
    ##   LightActiveDistance = col_double(),
    ##   ModeratelyActiveDistance = col_double(),
    ##   VeryActiveDistance = col_double()
    ## )

``` r
dailySteps <- clean_names(read_csv("C:/Users/Brandi/Documents/Bellabeat Case Study/fitbit/Fitabase Data 4.12.16-5.12.16/dailySteps_merged.csv"))
```

    ## 
    ## -- Column specification --------------------------------------------------------
    ## cols(
    ##   Id = col_double(),
    ##   ActivityDay = col_character(),
    ##   StepTotal = col_double()
    ## )

``` r
calorie_comparison_test <- updated_daily_activity %>% 
  select(id,activity_date,calories)

intensity_comparison_test <- updated_daily_activity %>% 
  select(id,activity_date,sedentary_minutes,lightly_active_minutes, fairly_active_minutes,very_active_minutes,sedentary_active_distance,light_active_distance,moderately_active_distance,very_active_distance)

daily_steps_comparison_test <- updated_daily_activity %>% 
  select(id,activity_date,total_steps)

a1 <- rename(dailyCalories,activity_date=activity_day) %>% 
  select(id,activity_date,calories) 

a2 <- rename(dailyIntensities,activity_date=activity_day) %>% 
  select(id,activity_date,sedentary_minutes,lightly_active_minutes, fairly_active_minutes,very_active_minutes,sedentary_active_distance,light_active_distance,moderately_active_distance,very_active_distance)

a3 <- rename(dailySteps,activity_date=activity_day, total_steps=step_total) %>% 
  select(id,activity_date,total_steps)

a1$id <- as.character(a1$id)
a2$id <- as.character(a2$id)
a3$id <- as.character(a3$id)

setdiff(calorie_comparison_test,a1)
```

    ## # A tibble: 0 x 3
    ## # ... with 3 variables: id <chr>, activity_date <chr>, calories <dbl>

``` r
setdiff(intensity_comparison_test,a2)
```

    ## # A tibble: 0 x 10
    ## # ... with 10 variables: id <chr>, activity_date <chr>,
    ## #   sedentary_minutes <dbl>, lightly_active_minutes <dbl>,
    ## #   fairly_active_minutes <dbl>, very_active_minutes <dbl>,
    ## #   sedentary_active_distance <dbl>, light_active_distance <dbl>,
    ## #   moderately_active_distance <dbl>, very_active_distance <dbl>

``` r
setdiff(daily_steps_comparison_test,a3)
```

    ## # A tibble: 0 x 3
    ## # ... with 3 variables: id <chr>, activity_date <chr>, total_steps <dbl>

------------------------------------------------------------------------

# Step 4 - Analyze

``` r
#quick view of cleaned data
glimpse(updated_daily_activity)
```

    ## Rows: 940
    ## Columns: 17
    ## $ id                         <chr> "1503960366", "1503960366", "1503960366", "~
    ## $ activity_date              <chr> "4/12/2016", "4/13/2016", "4/14/2016", "4/1~
    ## $ total_steps                <dbl> 13162, 10735, 10460, 9762, 12669, 9705, 130~
    ## $ total_distance             <dbl> 8.50, 6.97, 6.74, 6.28, 8.16, 6.48, 8.59, 9~
    ## $ tracker_distance           <dbl> 8.50, 6.97, 6.74, 6.28, 8.16, 6.48, 8.59, 9~
    ## $ logged_activities_distance <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0~
    ## $ very_active_distance       <dbl> 1.88, 1.57, 2.44, 2.14, 2.71, 3.19, 3.25, 3~
    ## $ moderately_active_distance <dbl> 0.55, 0.69, 0.40, 1.26, 0.41, 0.78, 0.64, 1~
    ## $ light_active_distance      <dbl> 6.06, 4.71, 3.91, 2.83, 5.04, 2.51, 4.71, 5~
    ## $ sedentary_active_distance  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0~
    ## $ very_active_minutes        <dbl> 25, 21, 30, 29, 36, 38, 42, 50, 28, 19, 66,~
    ## $ fairly_active_minutes      <dbl> 13, 19, 11, 34, 10, 20, 16, 31, 12, 8, 27, ~
    ## $ lightly_active_minutes     <dbl> 328, 217, 181, 209, 221, 164, 233, 264, 205~
    ## $ sedentary_minutes          <dbl> 728, 776, 1218, 726, 773, 539, 1149, 775, 8~
    ## $ calories                   <dbl> 1985, 1797, 1776, 1745, 1863, 1728, 1921, 2~
    ## $ casted_date                <date> 2016-04-12, 2016-04-13, 2016-04-14, 2016-0~
    ## $ day                        <chr> "Tuesday", "Wednesday", "Thursday", "Friday~

``` r
glimpse(updated_daily_sleep)
```

    ## Rows: 410
    ## Columns: 7
    ## $ id                   <chr> "1503960366", "1503960366", "1503960366", "150396~
    ## $ activity_date        <chr> "4/12/2016 12:00:00 AM", "4/13/2016 12:00:00 AM",~
    ## $ total_sleep_records  <dbl> 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~
    ## $ total_minutes_asleep <dbl> 327, 384, 412, 340, 700, 304, 360, 325, 361, 430,~
    ## $ total_time_in_bed    <dbl> 346, 407, 442, 367, 712, 320, 377, 364, 384, 449,~
    ## $ casted_date          <date> 2016-04-12, 2016-04-13, 2016-04-15, 2016-04-16, ~
    ## $ day                  <chr> "Tuesday", "Wednesday", "Friday", "Saturday", "Su~

``` r
glimpse(updated_weight_log)
```

    ## Rows: 67
    ## Columns: 11
    ## $ id               <chr> "1503960366", "1503960366", "1927972279", "2873212765~
    ## $ activity_date    <chr> "5/2/2016 11:59:59 PM", "5/3/2016 11:59:59 PM", "4/13~
    ## $ weight_kg        <dbl> 52.6, 52.6, 133.5, 56.7, 57.3, 72.4, 72.3, 69.7, 70.3~
    ## $ weight_pounds    <dbl> 115.9631, 115.9631, 294.3171, 125.0021, 126.3249, 159~
    ## $ fat              <dbl> 22, NA, NA, NA, NA, 25, NA, NA, NA, NA, NA, NA, NA, N~
    ## $ bmi              <dbl> 22.65, 22.65, 47.54, 21.45, 21.69, 27.45, 27.38, 27.2~
    ## $ is_manual_report <lgl> TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE~
    ## $ log_id           <dbl> 1.462234e+12, 1.462320e+12, 1.460510e+12, 1.461283e+1~
    ## $ casted_date      <date> 2016-05-02, 2016-05-03, 2016-04-13, 2016-04-21, 2016~
    ## $ day              <chr> "Monday", "Tuesday", "Wednesday", "Thursday", "Thursd~
    ## $ report_type      <chr> "Manual", "Manual", "Automated", "Manual", "Manual", ~

``` r
#unique participants in each dataframe
n_distinct(updated_daily_activity$id)
```

    ## [1] 33

``` r
n_distinct(updated_daily_sleep$id)
```

    ## [1] 24

``` r
n_distinct(updated_weight_log$id)
```

    ## [1] 8

``` r
#Examining Date Ranges. All date ranges are the same
min(updated_daily_activity$casted_date)
```

    ## [1] "2016-04-12"

``` r
min(updated_daily_sleep$casted_date)
```

    ## [1] "2016-04-12"

``` r
min(updated_weight_log$casted_date)
```

    ## [1] "2016-04-12"

``` r
max(updated_daily_activity$casted_date)
```

    ## [1] "2016-05-12"

``` r
max(updated_daily_sleep$casted_date)
```

    ## [1] "2016-05-12"

``` r
max(updated_weight_log$casted_date)
```

    ## [1] "2016-05-12"

``` r
#all have 30 days of data
difftime(max(updated_daily_activity$casted_date),min(updated_daily_activity$casted_date), units="days")
```

    ## Time difference of 30 days

``` r
difftime(max(updated_daily_sleep$casted_date),min(updated_daily_sleep$casted_date), units="days")
```

    ## Time difference of 30 days

``` r
difftime(max(updated_weight_log$casted_date),min(updated_weight_log$casted_date), units="days")
```

    ## Time difference of 30 days

``` r
#merge daily activity + daily sleep outer join
combined_sleep_activity <- merge(updated_daily_sleep, updated_daily_activity, by = c("id", "casted_date" ), all.y = TRUE)
n_distinct(combined_sleep_activity$id)
```

    ## [1] 33

``` r
#merge all daily data outer join
combined_all_daily <- merge(combined_sleep_activity, updated_weight_log, by = c("id", "casted_date"),all.x = TRUE)
n_distinct(combined_all_daily$id)
```

    ## [1] 33

``` r
#ordering days for graph visualizations
updated_daily_sleep$day <- factor(updated_daily_sleep$day,levels =
                                    c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
updated_daily_activity$day <- factor(updated_daily_activity$day,levels = 
                                       c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
updated_weight_log$day <- factor(updated_weight_log$day,levels = 
                                   c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))

#Quick summary statistics
updated_daily_activity %>%
  select(total_steps,
         total_distance,
         sedentary_minutes) %>%
  summary()
```

    ##   total_steps    total_distance   sedentary_minutes
    ##  Min.   :    0   Min.   : 0.000   Min.   :   0.0   
    ##  1st Qu.: 3790   1st Qu.: 2.620   1st Qu.: 729.8   
    ##  Median : 7406   Median : 5.245   Median :1057.5   
    ##  Mean   : 7638   Mean   : 5.490   Mean   : 991.2   
    ##  3rd Qu.:10727   3rd Qu.: 7.713   3rd Qu.:1229.5   
    ##  Max.   :36019   Max.   :28.030   Max.   :1440.0

``` r
updated_daily_sleep %>%  
  select(total_sleep_records,
         total_minutes_asleep,
         total_time_in_bed) %>%
  summary()
```

    ##  total_sleep_records total_minutes_asleep total_time_in_bed
    ##  Min.   :1.00        Min.   : 58.0        Min.   : 61.0    
    ##  1st Qu.:1.00        1st Qu.:361.0        1st Qu.:403.8    
    ##  Median :1.00        Median :432.5        Median :463.0    
    ##  Mean   :1.12        Mean   :419.2        Mean   :458.5    
    ##  3rd Qu.:1.00        3rd Qu.:490.0        3rd Qu.:526.0    
    ##  Max.   :3.00        Max.   :796.0        Max.   :961.0

``` r
updated_weight_log %>%  
  select(weight_pounds,
         bmi,
         fat,
         is_manual_report) %>%
  summary()
```

    ##  weight_pounds        bmi             fat        is_manual_report
    ##  Min.   :116.0   Min.   :21.45   Min.   :22.00   Mode :logical   
    ##  1st Qu.:135.4   1st Qu.:23.96   1st Qu.:22.75   FALSE:26        
    ##  Median :137.8   Median :24.39   Median :23.50   TRUE :41        
    ##  Mean   :158.8   Mean   :25.19   Mean   :23.50                   
    ##  3rd Qu.:187.5   3rd Qu.:25.56   3rd Qu.:24.25                   
    ##  Max.   :294.3   Max.   :47.54   Max.   :25.00                   
    ##                                  NA's   :65

``` r
updated_daily_activity %>% 
  select(total_distance,
         very_active_distance,
         moderately_active_distance,
         light_active_distance,
         sedentary_active_distance) %>%
  summary()
```

    ##  total_distance   very_active_distance moderately_active_distance
    ##  Min.   : 0.000   Min.   : 0.000       Min.   :0.0000            
    ##  1st Qu.: 2.620   1st Qu.: 0.000       1st Qu.:0.0000            
    ##  Median : 5.245   Median : 0.210       Median :0.2400            
    ##  Mean   : 5.490   Mean   : 1.503       Mean   :0.5675            
    ##  3rd Qu.: 7.713   3rd Qu.: 2.053       3rd Qu.:0.8000            
    ##  Max.   :28.030   Max.   :21.920       Max.   :6.4800            
    ##  light_active_distance sedentary_active_distance
    ##  Min.   : 0.000        Min.   :0.000000         
    ##  1st Qu.: 1.945        1st Qu.:0.000000         
    ##  Median : 3.365        Median :0.000000         
    ##  Mean   : 3.341        Mean   :0.001606         
    ##  3rd Qu.: 4.782        3rd Qu.:0.000000         
    ##  Max.   :10.710        Max.   :0.110000

``` r
#percent of total records of 0 logged activities
  ((updated_daily_activity %>% filter(logged_activities_distance  == 0) %>% count()) / nrow(updated_daily_activity)) %>% percent()
```

    ## [1] 96.60%

``` r
#percent of total records with 0 steps
  ((updated_daily_activity %>% filter(total_steps == 0) %>% count()) / nrow(updated_daily_activity)) %>% percent()
```

    ## [1] 8.19%

``` r
#percent of total records with 0 distance
((updated_daily_activity %>% filter(total_distance == 0) %>% count()) / nrow(updated_daily_activity)) %>% percent()
```

    ## [1] 8.30%

``` r
#percent of total users who participated in weight logging
(n_distinct(updated_weight_log$id) / n_distinct(updated_daily_activity$id)) %>% percent()
```

    ## [1] 24.24%

``` r
#percent of total users who participated in sleep logging
(n_distinct(updated_daily_sleep$id) / n_distinct(updated_daily_activity$id)) %>% percent()
```

    ## [1] 72.73%

------------------------------------------------------------------------

# Step 5 - Share

## Visualizations

### Total Daily Graphs

``` r
#Total Steps per day
ggplot(updated_daily_activity, aes(x=day, y=total_steps)) + 
  geom_bar(stat="identity", fill='steelblue') +
  labs(title="Daily Steps", x= "Day of the Week", y="Total Steps")
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-5-1.png)<!-- -->

``` r
#Total Calories per day
ggplot(updated_daily_activity, aes(x=day, y=calories)) + 
  geom_bar(stat="identity", fill='steelblue') +
  labs(title="Daily Calories", x= "Day of the Week", y="Total Calories") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-5-2.png)<!-- -->

``` r
#Total Sleep per day
ggplot(updated_daily_sleep, aes(x=day, y=total_minutes_asleep)) + 
  geom_bar(stat="identity", fill='steelblue') +
  labs(title="Daily Sleep", x= "Day of the Week", y="Total Sleep Minutes") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-5-3.png)<!-- -->

``` r
#Total Weight Logs per day
ggplot(updated_weight_log, aes(x=day)) + 
  geom_bar(fill='steelblue') +
  labs(title="Daily Weight Logs", x= "Day of the Week", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-5-4.png)<!-- -->

### Weight Log Graphs

``` r
#Total manual vs automatic weight logs
#recommendation to market more automated reports
ggplot(updated_weight_log, aes(report_type)) + 
  geom_bar(fill='steelblue') +
  labs(title="Manual vs Automated Weight Logs", x="", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-6-1.png)<!-- -->

``` r
#shows user participation frequency. 2 users had most of the records
ggplot(updated_weight_log, aes(x=id)) + 
  geom_bar(fill='steelblue') +
  theme(axis.text.x=element_text(angle=45, hjust=1)) +
  labs(title="Weight Log Participation", x="", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-6-2.png)<!-- -->

``` r
#Shows participants log days. random days. not consistent
ggplot(updated_weight_log, aes(x=casted_date, y=id)) + 
  geom_point() +
  labs(title="Weight Log Consistency", x="Date of Log", y="User ID") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-6-3.png)<!-- -->

``` r
#weight change per participant. shows no changes in weight
ggplot(updated_weight_log, aes(x=casted_date, y=weight_pounds)) + 
  geom_line(color="blue") +
  facet_wrap(~id) +
  labs(title="Weight Change", x="", y="Weight in Pounds") 
```

    ## geom_path: Each group consists of only one observation. Do you need to adjust
    ## the group aesthetic?
    ## geom_path: Each group consists of only one observation. Do you need to adjust
    ## the group aesthetic?

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-6-4.png)<!-- -->

### Trend Lines

``` r
#relationship between total_time_in_bed and total_minutes_asleep
ggplot(data=updated_daily_sleep, aes(x=total_time_in_bed, y= total_minutes_asleep)) + 
  geom_point() +
  stat_smooth(method="lm", se=FALSE) +
  labs(title="Time in Bed vs Time Asleep", x="In Bed", y="Asleep") 
```

    ## `geom_smooth()` using formula 'y ~ x'

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-7-1.png)<!-- -->

``` r
#relationship between total_steps and sedentary_minutes
ggplot(data=updated_daily_activity, aes(x=total_steps, y=sedentary_minutes)) +
  geom_point() +
  stat_smooth(method="lm", se=FALSE) +
  labs(title="Steps vs Sedentary Minutes", x="Total Steps", y="Sedentary Minutes")
```

    ## `geom_smooth()` using formula 'y ~ x'

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-7-2.png)<!-- -->

``` r
#total steps vs total minutes asleep
ggplot(combined_sleep_activity, aes(x=total_minutes_asleep,  y=total_steps)) + 
  geom_point() +
  geom_vline(xintercept = 420 , color="green") +
  geom_vline(xintercept = 540 , color="green") +
  stat_smooth(method="lm", se=FALSE) +
  labs(title="Steps vs Sleep", x="Minutes Asleep", y="Total Steps" ) +
  annotate("text", x = 675, y = 15000, label = "7-9 hour recommended", color="green")
```

    ## `geom_smooth()` using formula 'y ~ x'

    ## Warning: Removed 530 rows containing non-finite values (stat_smooth).

    ## Warning: Removed 530 rows containing missing values (geom_point).

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-7-3.png)<!-- -->

``` r
#total minutes asleep vs calories
ggplot(combined_sleep_activity, aes(x=total_minutes_asleep,  y=calories)) + 
  geom_point() +
  geom_vline(xintercept = 420 , color="green") +
  geom_vline(xintercept = 540 , color="green") +
  stat_smooth(method="lm", se=FALSE) +
  labs(title="Sleep vs Calories", x="Minutes Asleep", y="Calories") +
  annotate("text", x = 675, y = 4000, label = "7-9 hour recommended", color="green")
```

    ## `geom_smooth()` using formula 'y ~ x'

    ## Warning: Removed 530 rows containing non-finite values (stat_smooth).

    ## Warning: Removed 530 rows containing missing values (geom_point).

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-7-4.png)<!-- -->

### Participation

``` r
#how often participants participate. inconsistent participation
ggplot(updated_daily_activity, aes(x=id)) + 
  geom_bar(fill='steelblue') +
  theme(axis.text.x=element_text(angle=45, hjust=1)) +
  labs(title="Physical Activity Participant Frequency", x="User ID", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-8-1.png)<!-- -->

``` r
ggplot(updated_daily_sleep, aes(x=id)) + 
  geom_bar(fill='steelblue') +
  theme(axis.text.x=element_text(angle=45, hjust=1)) +
  labs(title="Sleep Participant Frequency", x="User ID", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-8-2.png)<!-- -->

``` r
ggplot(updated_weight_log, aes(x=id)) + 
  geom_bar(fill='steelblue') +
  theme(axis.text.x=element_text(angle=45, hjust=1)) +
  labs(title="Weight Log Particpant Frequency", x="User ID", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-8-3.png)<!-- -->

``` r
record_type <- c("Daily Activity", "Daily Sleep", "Daily Weight Log")
distinct_user_count <-c(n_distinct(updated_daily_activity$id), n_distinct(updated_daily_sleep$id), n_distinct(updated_weight_log$id))

user_comparison <- data.frame(record_type,distinct_user_count)

ggplot(user_comparison, aes(record_type,distinct_user_count)) +
  geom_bar(stat="identity", fill='steelblue') +
  labs(title="All Participation Activity", x="Type of Data", y="Total Log Count") 
```

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-8-4.png)<!-- -->

``` r
#Total Participants for Each
# Observations:
# *Activity is the easiest to log. May be the easiest to remember
# *Users may not like wearing the device to sleep
```

### Steps over time

``` r
#Highlighting 2 users with over 25000 steps for visual
ggplot(updated_daily_activity, aes(x=activity_date, y=total_steps, group=id, color=id)) +
  geom_line() +
  theme(axis.text.x = element_text(angle = 90)) +
  gghighlight(max(total_steps) > 25000) +
  labs(title="User Activitiy", x="Date", y="Steps Taken")
```

    ## label_key: id

![](fitbit_analysis_v4_files/figure-gfm/unnamed-chunk-9-1.png)<!-- -->

## Observations

### Participation

-   Users were inconsistent in tracking across all activities
-   33 participants for physical activity
-   24 participants for sleep activity
-   8 participants for weight logging activity

### Weekday Analysis

-   Mid-week is most active for physical and sleep activity
-   Tuesday is the most active day for total steps taken and Calories
    burned
    -   Sunday is the least active
-   Wednesday is the day with most sleep minutes recorded
    -   Monday is the least
-   Monday and Wednesday are the most active days for Weight Log
    recording
    -   Friday and Saturday are the least active days

### Weight Log Analysis

-   There are more manual logs than automated logs for logging weight
    -   This could mean users do not have access to a scale that
        connects to Fitbit products
-   2 of 8 participants accounted for most of the logs, and the same 2
    were most consistent in logging nearly everyday
-   The remaining 6 participants were not consistent and randomly
    logged.
-   There were no drastic changes in weight. The study being only 30
    days may account for this.

### Daily Sleep

-   Most participants spend roughly the same amount of time in bed and
    being asleep
-   There are some users that stay awake longer in bed before falling
    asleep

### Daily Physical Activity

-   As total steps increases, the amount of sedentary minutes decreases,
    as one may assume.

### Coorelation between Physical and Sleep Activity

-   There is a trend showing the more sleep you get, the less steps you
    take.
    -   This could mean that there is less time to be active if you
        sleep longer
-   There is not a strong correlation between the amount of sleep and
    the amount of calories burned.

## Ideas

-   what days of the week are least and most active. make challenge for
    those days
-   logged activities - what is not automatically tracked?
-   recommendation to have more categorical data to collect
    i.e. activity types walking, running, swimming
-   what are the goals of participant

------------------------------------------------------------------------

# Step 6 - Act

## Final Conclusions

-   Overall, users were not consistent with tracking physical activity,
    sleep activity, and logging weight. Potential reasons:
    -   Users were forgetting to wear the device during physical
        activity and during sleep
    -   Users were not wanting to wear the device due to comfortability
    -   Users were forgetting to manually log activity
    -   Users were not finding the tracking process easy and convenient
-   Users were more consistent with tracking physical activities, which
    could indicate that the device is not comfortable enough to wear
    during sleep, and that the device does not allow easy weight logging
    entries.
-   96% of logged physical activity records are automated. Meaning users
    rely on activity being automatically detected and logged, and not
    manually entered.

## Recommendations

To meet the goal to empower women with knowledge about their own health
and habits, the following recommendations for marketing are to:

#### Create and Advertise

-   A more comfortable Time device that allows all-day wear for
    consistent tracking which leads to more complete health data
-   Daily challenges to provide incentive to stay consistent with all
    activities - physical, sleep, and logging each day of the week
-   An easy and convenient tracking process focused on automated
    activity tracking, and less need for manual intervention.
-   Reminders to log activity that cannot be automatically gathered -
    reproductive health, weight, stress

## Next Steps

-   More forward with recommendations with the insights gained from the
    limited data
-   Expand upon the limited data and timeframe by conducting another
    survey to gather specific and categorical data that targets the
    femail audience
